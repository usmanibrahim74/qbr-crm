(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{11:function(t,e,r){"use strict";var a={name:"Breadcrumbs"},s=r(1),o=Object(s.a)(a,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"#"}},[this._v("Apps")])]),this._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[this._v("Dashboard")])])])}],!1,null,"5cad8d16",null);e.a=o.exports},39:function(t,e,r){"use strict";r.r(e);var a=r(0),s=r.n(a),o=r(11),n=r(2),i=r.n(n),c=r(3);function u(t,e,r,a,s,o,n){try{var i=t[o](n),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(a,s)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"create",data:function(){return{report:new i.a({name:"",customer:0,groups:[],date:""})}},computed:l(l({},Object(c.c)({groups:"app/groups",customers:"app/customers"})),{},{selected:function(){return this.report.groups.length>0},getGroupOptions:function(){var t=[];return this.groups.forEach((function(e){var r={label:e.name,value:e.id};t.push(r)})),t}}),components:{Breadcrumbs:o.a},beforeCreate:function(){this.$store.dispatch("app/fetchGroups"),this.$store.dispatch("app/fetchCustomers")},methods:{addReport:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.report.post("/api/report/add");case 2:e.$router.push({name:"reports"});case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,s){var o=t.apply(e,r);function n(t){u(o,a,s,n,i,"next",t)}function i(t){u(o,a,s,n,i,"throw",t)}n(void 0)}))})()}}},v=r(1),f=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-content"},[r("div",{staticClass:"page-info"},[r("breadcrumbs")],1),t._v(" "),r("div",{staticClass:"main-wrapper"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xl"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("Create Report")]),t._v(" "),r("form",{staticClass:"row",attrs:{action:"",method:"post"},on:{submit:function(e){return e.preventDefault(),t.addReport(e)}}},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"report-name"}},[t._v("Report name:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.report.name,expression:"report.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"report-name",name:"name"},domProps:{value:t.report.name},on:{input:function(e){e.target.composing||t.$set(t.report,"name",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"customer"}},[t._v("Select Customer:")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.report.customer,expression:"report.customer"}],staticClass:"form-control",attrs:{name:"customer",required:"",id:"customer"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.report,"customer",e.target.multiple?r:r[0])}}},t._l(t.customers,(function(e,a){return r("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),t._v(" "),r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"report-groups"}},[t._v("Select Groups:")]),t._v(" "),r("v-select",{staticClass:"form-control",attrs:{id:"report-groups",options:t.getGroupOptions,multiple:!0},scopedSlots:t._u([{key:"option",fn:function(e){var a=e.label;return[r("p",{staticClass:"v-select-options mb-0"},[t._v(t._s(a))])]}},{key:"search",fn:function(e){var a=e.attributes,s=e.events;return[r("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.selected}},"input",a,!1),s))]}}]),model:{value:t.report.groups,callback:function(e){t.$set(t.report,"groups",e)},expression:"report.groups"}})],1)]),t._v(" "),r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"report-date"}},[t._v("Report date:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.report.date,expression:"report.date"}],staticClass:"form-control",attrs:{required:"",type:"date",id:"report-date",name:"date"},domProps:{value:t.report.date},on:{input:function(e){e.target.composing||t.$set(t.report,"date",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"report-summary"}},[t._v("Summary:")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.report.summary,expression:"report.summary"}],staticClass:"form-control",staticStyle:{resize:"vertical"},attrs:{name:"summary",id:"report-summary",cols:"30",rows:"10"},domProps:{value:t.report.summary},on:{input:function(e){e.target.composing||t.$set(t.report,"summary",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"col-xl"},[r("div",{staticClass:"text-right"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n                    Create Report\n                  ")])],1)])])])])])])])])}),[],!1,null,"43127472",null);e.default=f.exports}}]);